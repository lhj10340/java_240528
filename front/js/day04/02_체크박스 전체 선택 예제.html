<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="../../static/js/jquery.min.js"></script>
</head>
<body>
	<table>
		<tr>
			<th>
				<input type="checkbox" id="all"> 전체선택
			</th>
			<th>이름</th>
		</tr>
		<tr>
			<th>
				<input type="checkbox" class="checkbox">
			</th>
			<th>홍길동</th>
		</tr>
		<tr>
			<th>
				<input type="checkbox" class="checkbox">
			</th>
			<th>임꺽정</th>
		</tr>
	</table>
	<script>
		// 전체 선택 클릭 이벤트를 등록.
		$('#all').change(function(){
			// 전체 선택한 체크박스의 checked 속성값을 가져온다.
			// this는 이벤트가 발생한 요소를 선택한다.
			var checked = $(this).prop('checked');
			// 다른 체크박스의 checked 속성값을 전체 선택한 체크박스의 checked 속성값으로 수정
			$('.checkbox').prop('checked', checked);
		})

		$('.checkbox').change(function(){
			// .checkbox 에서 체크된 요소들을 가져온다.
			var checkedCount = $('.checkbox:checked').length;

			var totalCount = $('.checkbox').length;

			if(checkedCount != totalCount){
				$('#all').prop('checked', false);
			}	else {
				$('#all').prop('checked', true);
			}
		})
	</script>
</body>
</html>